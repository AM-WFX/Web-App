<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Selectors Validator</title>
    <link rel="stylesheet" href="styles.css"> 
    <style>
        .validator-container {
            max-width: 600px;
            margin: 20px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .target-box {
            padding: 20px;
            margin-bottom: 20px;
            border: 2px dashed #007bff;
            background-color: #e6f3ff;
            text-align: center;
        }
        #selector-input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        #validation-message {
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            min-height: 20px; /* To prevent layout jump */
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>

    <header class="navbar">
        <div class="logo">My Site</div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="css-selectors.html" class="active">Selectors</a></li> </ul>
        </nav>
    </header>

    <div class="validator-container">
        <h1>CSS Selector Challenge üéØ</h1>

        <p>Your goal is to write a CSS selector that targets the **blue button** inside the box below.</p>
        <p>The correct selector is: **div#main-challenge > button.submit-btn**</p>
        
        <div id="main-challenge" class="target-box">
            <p>A random paragraph.</p>
            <input type="text" placeholder="Not the target" id="random-input">
            <button class="submit-btn" type="submit" data-test-id="target-button">
                The Target Button
            </button>
        </div>

        <label for="selector-input">Enter your CSS Selector:</label>
        <input type="text" id="selector-input" placeholder="e.g., #id-name or .class-name">
        <button onclick="validateSelector()">Validate Selector</button>

        <div id="validation-message"></div>
    </div>

    <footer>
        <p>&copy; 2025 My Awesome Website</p>
    </footer>

    <script>
        function validateSelector() {
            // 1. Get user input and output area
            const userInput = document.getElementById('selector-input').value.trim();
            const messageElement = document.getElementById('validation-message');
            
            // Define the known correct selector for this specific challenge
            // Based on the HTML: <button class="submit-btn" ...> inside <div id="main-challenge" ...>
            const CORRECT_SELECTOR = 'div#main-challenge > button.submit-btn';

            // Clear previous messages
            messageElement.textContent = '';
            messageElement.className = '';

            // Handle Empty Input
            if (userInput === '') {
                messageElement.textContent = 'Please enter a selector.';
                messageElement.classList.add('error');
                return;
            }

            // --- The Core Validation Logic ---
            try {
                // Try to select elements using the user's input
                const selectedElements = document.querySelectorAll(userInput);
                
                // Try to select elements using the CORRECT_SELECTOR
                const correctTarget = document.querySelector(CORRECT_SELECTOR);

                // Check if the correct target was found
                if (!correctTarget) {
                    console.error("Internal Error: Target element not found with the CORRECT_SELECTOR.");
                    messageElement.textContent = 'Validation Error: Target element is missing.';
                    messageElement.classList.add('error');
                    return;
                }
                
                // 2. Check if the user's selector selected the *exact* target element
                
                // Check if *only one* element was selected (good practice, but not strictly required)
                if (selectedElements.length === 0) {
                    messageElement.textContent = `No elements were selected by "${userInput}". Try again!`;
                    messageElement.classList.add('error');
                    return;
                }

                // Check if the correct target is included in the list of elements selected by the user
                const targetsMatch = Array.from(selectedElements).includes(correctTarget);

                if (targetsMatch) {
                    messageElement.textContent = `üéâ Correct! The selector "${userInput}" successfully targets the button.`;
                    messageElement.classList.add('success');
                } else {
                    messageElement.textContent = `‚ùå Incorrect. Your selector targets ${selectedElements.length} elements, but not the right one.`;
                    messageElement.classList.add('error');
                }

            } catch (e) {
                // Catch any invalid CSS selector syntax errors
                messageElement.textContent = `Syntax Error: "${userInput}" is not a valid CSS selector.`;
                messageElement.classList.add('error');
            }
        }
    </script>

</body>
</html>
